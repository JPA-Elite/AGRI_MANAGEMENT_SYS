import{r as o,j as e,s as g}from"./app-DWpQxF4o.js";import{a as v}from"./index-CRpKpn5N.js";import{u as b,a as j}from"./cash-assistance-thunk-1uxo6X1Q.js";import{S as y}from"./sweetalert2.esm.all-89IKscqO.js";import{B as w}from"./general-wzj1W42Y.js";import{F as N}from"./XMarkIcon-CjCCaZTf.js";import{y as k,D as C,j as F,Y as S}from"./dialog-Bu3fzzj6.js";import"./iconBase-O00PSahS.js";import"./use-tab-direction-qQ81AcP5.js";import"./use-server-handoff-complete-BoqYEMCp.js";import"./transition-CsWptjqK.js";function A({title:d,titleId:n,...r},m){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":n},r),d?o.createElement("title",{id:n},d):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const L=o.forwardRef(A);function W({data:d}){var x;const[n,r]=o.useState(!1),[m,h]=o.useState(!1),[t,l]=o.useState({name:"",sponsor:"",date:"",location:"",description:"",livelihoods:[]});console.log("formDataformData",t),o.useEffect(()=>{l(d)},[n]);const[u,f]=o.useState(""),c=s=>{l({...t,[s.target.name]:s.target.value})},p=async s=>{if(s.preventDefault(),t.password!==t.password2){f("Passwords do not match.");return}h(!0);try{await g.dispatch(b(t)),await g.dispatch(j()),h(!1),l({name:"",sponsor:"",date:"",location:"",description:"",livelihoods:[]}),await y.fire({title:"Success!",text:"Cash Assistance Event Created.",icon:"success",showConfirmButton:!1,timer:1500}),r(!1)}catch{h(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" text-right",children:e.jsxs("button",{type:"button",onClick:()=>r(!0),className:"block rounded-md bg-green-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",children:[e.jsx(L,{"aria-hidden":"true",className:"float-left mr-2 size-5"}),"Update"]})}),e.jsxs(k,{open:n,onClose:r,className:"relative z-40",children:[e.jsx(C,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity duration-500 ease-in-out data-[closed]:opacity-0"}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:e.jsx(F,{transition:!0,className:"pointer-events-auto w-screen max-w-md transform transition duration-500 ease-in-out data-[closed]:translate-x-full sm:duration-700",children:e.jsxs("div",{className:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl",children:[e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs(S,{className:"text-base font-semibold text-gray-900",children:[e.jsx(v,{className:"size-5 float-left mr-2"})," ","Update Cash Assistance Event"]}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",onClick:()=>r(!1),className:"relative rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(N,{"aria-hidden":"true",className:"size-6"})]})})]})}),e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsxs("form",{onSubmit:p,children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"sm:col-span-12",children:[u&&e.jsx("p",{className:"text-red-500",children:u}),e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-gray-500 pt-3",children:"Assistance Information"})]}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{name:"name",type:"text",placeholder:"Cash Assistance Name",autoComplete:"name",value:t.name,onChange:c,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{type:"text",placeholder:"Sponsor Name",autoComplete:"sponsor",name:"sponsor",value:t.sponsor,onChange:c,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{name:"date",type:"datetime-local",autoComplete:"date",value:t.date,onChange:c,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsxs("select",{id:"barangay",name:"location",placeholder:"Barangay",className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-8 text-base text-gray-900 outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm/6",value:t.location,onChange:c,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"-- Event Location --"}),w.map(s=>e.jsx("option",{value:s,children:s},s))]})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("textarea",{id:"description",name:"description",onChange:c,rows:8,placeholder:"Assistance Description",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6",value:t.description})}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-gray-500 pt-3 mb-2",children:"Main Livelihood"}),e.jsxs("div",{class:"space-y-4",children:[e.jsxs("div",{class:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"farmer",name:"role",checked:t.livelihoods.some(s=>s.name==="Farmer"),value:"Farmer",onChange:s=>{l(a=>({...a,livelihoods:s.target.checked?[...a.livelihoods,s.target.value]:a.livelihoods.filter(i=>i!==s.target.value)}))},class:"h-4 w-4 text-green-600 border-gray-300 rounded"}),e.jsx("label",{for:"farmer",class:"ml-2 text-gray-700",children:"Farmer"})]}),e.jsxs("div",{class:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"farmworker",name:"role",checked:t.livelihoods.some(s=>s.name==="Farmworker/Laborer"),value:"Farmworker/Laborer",onChange:s=>{l(a=>({...a,livelihoods:s.target.checked?[...a.livelihoods,s.target.value]:a.livelihoods.filter(i=>i!==s.target.value)}))},class:"h-4 w-4 text-green-600 border-gray-300 rounded"}),e.jsx("label",{for:"farmworker",class:"ml-2 text-gray-700",children:"Farmworker/Laborer"})]}),e.jsxs("div",{class:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"fisherfolk",checked:t.livelihoods.some(s=>s.name==="Fisherfolk"),name:"fisherfolk",onChange:s=>{l(a=>({...a,livelihoods:s.target.checked?[...a.livelihoods,s.target.value]:a.livelihoods.filter(i=>i!==s.target.value)}))},value:"Fisherfolk",class:"h-4 w-4 text-green-600 border-gray-300 rounded"}),e.jsx("label",{for:"fisherfolk",class:"ml-2 text-gray-700",children:"Fisherfolk"})]}),e.jsxs("div",{class:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"agriYouth",name:"agriYouth",checked:(x=t==null?void 0:t.livelihoods)==null?void 0:x.some(s=>s.name=="Agri Youth"),onChange:s=>{l(a=>({...a,livelihoods:s.target.checked?[...a.livelihoods,s.target.value]:a.livelihoods.filter(i=>i!==s.target.value)}))},value:"Agri Youth",class:"h-4 w-4 text-green-600 border-gray-300 rounded"}),e.jsx("label",{for:"agriYouth",class:"ml-2 text-gray-700",children:"Agri Youth"})]})]})]}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("input",{name:"status",type:"hidden",value:t.status,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"}),e.jsx("hr",{})]})]})}),e.jsxs("div",{className:"flex shrink-0 justify-end px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:ring-gray-400",children:"Cancel"}),e.jsx("button",{disabled:m,type:"submit",className:"ml-4 inline-flex justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-500",children:m?"Loading...":"Save"})]})]})})]})})})})})]})]})}export{W as default};
