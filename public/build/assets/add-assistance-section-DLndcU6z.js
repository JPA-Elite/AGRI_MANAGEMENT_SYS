import{r as n,j as e,s as x}from"./app-DrBzqHIZ.js";import{a as h}from"./index-EdPc3-Uw.js";import{s as p,a as b}from"./cash-assistance-thunk-D9Uq8lCZ.js";import{S as v}from"./sweetalert2.esm.all-BY1s0Tb6.js";import{F as j}from"./XMarkIcon-BRESvxqU.js";import{y,D as w,j as N,Y as k}from"./dialog-KlWGjsSA.js";import"./iconBase-BHxFJUBt.js";import"./use-tab-direction-D9Fqzy4j.js";import"./use-server-handoff-complete-C4VuTsSo.js";import"./transition-Dw8Q3MvD.js";function M(){const[u,r]=n.useState(!1),[d,c]=n.useState(!1),[a,o]=n.useState({name:"",sponsor:"",date:"",location:"",description:"",livelihoods:[]}),[m,g]=n.useState(""),i=s=>{o({...a,[s.target.name]:s.target.value})},f=async s=>{if(s.preventDefault(),a.password!==a.password2){g("Passwords do not match.");return}c(!0);try{await x.dispatch(p(a)),await x.dispatch(b()),c(!1),o({name:"",sponsor:"",date:"",location:"",description:"",livelihoods:[]}),await v.fire({title:"Success!",text:"Cash Assistance Event Created.",icon:"success",showConfirmButton:!1,timer:1500}),r(!1)}catch{c(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-5 text-right",children:e.jsxs("button",{type:"button",onClick:()=>r(!0),className:"block rounded-md bg-green-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",children:[e.jsx(h,{"aria-hidden":"true",className:"float-left mr-2 size-5"}),"New Cash Assistance Event"]})}),e.jsxs(y,{open:u,onClose:r,className:"relative z-40",children:[e.jsx(w,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity duration-500 ease-in-out data-[closed]:opacity-0"}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:e.jsx(N,{transition:!0,className:"pointer-events-auto w-screen max-w-md transform transition duration-500 ease-in-out data-[closed]:translate-x-full sm:duration-700",children:e.jsxs("div",{className:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl",children:[e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs(k,{className:"text-base font-semibold text-gray-900",children:[e.jsx(h,{className:"size-5 float-left mr-2"})," ","New Cash Assistance Event"]}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",onClick:()=>r(!1),className:"relative rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(j,{"aria-hidden":"true",className:"size-6"})]})})]})}),e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsxs("form",{onSubmit:f,children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"sm:col-span-12",children:[m&&e.jsx("p",{className:"text-red-500",children:m}),e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-gray-500 pt-3",children:"Assistance Information"})]}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{name:"name",type:"text",placeholder:"Cash Assistance Name",autoComplete:"name",value:a.name,onChange:i,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{type:"text",placeholder:"Sponsor Name",autoComplete:"sponsor",name:"sponsor",value:a.sponsor,onChange:i,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{name:"date",type:"datetime-local",autoComplete:"date",value:a.date,onChange:i,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{name:"location",type:"text",placeholder:"Event Location",autoComplete:"location",value:a.location,onChange:i,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("textarea",{id:"description",name:"description",onChange:i,rows:8,placeholder:"Assistance Description",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6",defaultValue:""})}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-gray-500 pt-3 mb-2",children:"Main Livelihood"}),e.jsxs("div",{class:"space-y-4",children:[e.jsxs("div",{class:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"farmer",name:"role",value:"Farmer",onChange:s=>{o(t=>({...t,livelihoods:s.target.checked?[...t.livelihoods,s.target.value]:t.livelihoods.filter(l=>l!==s.target.value)}))},class:"h-4 w-4 text-green-600 border-gray-300 rounded"}),e.jsx("label",{for:"farmer",class:"ml-2 text-gray-700",children:"Farmer"})]}),e.jsxs("div",{class:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"farmworker",name:"role",value:"Farmworker/Laborer",onChange:s=>{o(t=>({...t,livelihoods:s.target.checked?[...t.livelihoods,s.target.value]:t.livelihoods.filter(l=>l!==s.target.value)}))},class:"h-4 w-4 text-green-600 border-gray-300 rounded"}),e.jsx("label",{for:"farmworker",class:"ml-2 text-gray-700",children:"Farmworker/Laborer"})]}),e.jsxs("div",{class:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"fisherfolk",name:"role",onChange:s=>{o(t=>({...t,livelihoods:s.target.checked?[...t.livelihoods,s.target.value]:t.livelihoods.filter(l=>l!==s.target.value)}))},value:"Fisherfolk",class:"h-4 w-4 text-green-600 border-gray-300 rounded"}),e.jsx("label",{for:"fisherfolk",class:"ml-2 text-gray-700",children:"Fisherfolk"})]}),e.jsxs("div",{class:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"agriYouth",name:"role",onChange:s=>{o(t=>({...t,livelihoods:s.target.checked?[...t.livelihoods,s.target.value]:t.livelihoods.filter(l=>l!==s.target.value)}))},value:"Agri Youth",class:"h-4 w-4 text-green-600 border-gray-300 rounded"}),e.jsx("label",{for:"agriYouth",class:"ml-2 text-gray-700",children:"Agri Youth"})]})]})]}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("input",{name:"status",type:"hidden",value:a.status,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"}),e.jsx("hr",{})]})]})}),e.jsxs("div",{className:"flex shrink-0 justify-end px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:ring-gray-400",children:"Cancel"}),e.jsx("button",{disabled:d,type:"submit",className:"ml-4 inline-flex justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-500",children:d?"Loading...":"Save"})]})]})})]})})})})})]})]})}export{M as default};
