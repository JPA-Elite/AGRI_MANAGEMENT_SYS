import{u as j,r as o,v as N,w as i,j as t}from"./app-CqqwN4Ys.js";import{s as p}from"./index-Bv_4KXUi.js";function k(){var m,u,x,h,y,v,b,_;const{personal_information:n}=j(e=>e.personal_information),[r,g]=o.useState({}),[a,l]=o.useState({city:"",province:"",region:null});o.useEffect(()=>{l(e=>({...e}))},[]),o.useEffect(()=>{p.regions().then(e=>g(s=>({...s,region:e})))},[]),o.useEffect(()=>{a!=null&&a.region_code&&p.provinces(a==null?void 0:a.region_code).then(e=>g(s=>({...s,province:e})))},[a==null?void 0:a.region_code]),o.useEffect(()=>{a!=null&&a.province_code&&p.cities(a==null?void 0:a.province_code).then(e=>g(s=>({...s,cities:e})))},[a==null?void 0:a.province_code]),o.useEffect(()=>{a!=null&&a.city_code&&p.barangays(a==null?void 0:a.city_code).then(e=>g(s=>({...s,barangay:e})))},[a==null?void 0:a.city_code]);const{user:c}=j(e=>e.app);o.useEffect(()=>{var e,s,f;d(i({...n,address_info:{...n.address_info,city:((e=c==null?void 0:c.profile)==null?void 0:e.city)??"",province:((s=c==null?void 0:c.profile)==null?void 0:s.province)??"",region:((f=c==null?void 0:c.profile)==null?void 0:f.region)??""}}))},[(c==null?void 0:c.id)??""]);const d=N();return t.jsx("div",{children:t.jsxs("div",{className:"border-b border-gray-900/10 pb-12",children:[t.jsx("h2",{className:"text-base/7 font-semibold text-gray-900",children:"Home Address"}),t.jsx("p",{className:"mt-1 text-sm/6 text-gray-600",children:"Use a permanent address where you can receive mail."}),t.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-12",children:[t.jsxs("div",{className:"col-span-4",children:[t.jsx("label",{htmlFor:"region",className:"block text-sm/6 font-medium text-gray-900",children:"Region"}),t.jsxs("select",{name:"region",value:((m=n==null?void 0:n.address_info)==null?void 0:m.region)??"",onChange:e=>{const s=e.target.options[e.target.selectedIndex];l({...a,[e.target.name]:e.target.value,region_code:s.dataset.code}),d(i({...n,address_info:{...n.address_info,[e.target.name]:e.target.value}}))},className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-8 text-base text-gray-900 outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm/6",children:[t.jsx("option",{value:"",disabled:!0,selected:!0,children:"-- Select a Region --"}),(u=r==null?void 0:r.region)==null?void 0:u.map((e,s)=>t.jsx("option",{"data-code":e.region_code,value:e.region_name,children:e.region_name},s))]})]}),t.jsxs("div",{className:"col-span-4",children:[t.jsx("label",{htmlFor:"province",className:"block text-sm/6 font-medium text-gray-900",children:"Province"}),t.jsxs("select",{id:"province",name:"province",value:((x=n==null?void 0:n.address_info)==null?void 0:x.province)??"",onChange:e=>{const s=e.target.options[e.target.selectedIndex];l({...a,province:s.value,province_code:s.dataset.code}),d(i({...n,address_info:{...n.address_info,[e.target.name]:e.target.value}}))},className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-8 text-base text-gray-900 outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm/6",children:[t.jsx("option",{value:"",selected:!0,disabled:!0,children:"-- Select a Province --"}),(h=r==null?void 0:r.province)==null?void 0:h.map((e,s)=>t.jsx("option",{value:e.province_name,"data-code":e.province_code,children:e.province_name},s))]})]}),t.jsxs("div",{className:"col-span-4",children:[t.jsx("label",{htmlFor:"city",className:"block text-sm/6 font-medium text-gray-900",children:"City/Municipality"}),t.jsxs("select",{id:"city",name:"city",value:((y=n==null?void 0:n.address_info)==null?void 0:y.city)??"",onChange:e=>{const s=e.target.options[e.target.selectedIndex];l({...a,city:s.value,city_code:s.dataset.code}),d(i({...n,address_info:{...n.address_info,[e.target.name]:e.target.value}}))},className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-8 text-base text-gray-900 outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm/6",children:[t.jsx("option",{value:"",selected:!0,disabled:!0,children:"-- Select a City --"}),(v=r==null?void 0:r.cities)==null?void 0:v.map((e,s)=>t.jsx("option",{value:e.city_name,"data-code":e.city_code,children:e.city_name},s))]})]}),t.jsxs("div",{className:"sm:col-span-4 sm:col-start-1",children:[t.jsx("label",{className:"block text-sm/6 font-medium text-gray-900",children:"Barangay"}),t.jsxs("select",{id:"barangay",name:"barangay",value:((b=n==null?void 0:n.address_info)==null?void 0:b.barangay)??"",onChange:e=>{const s=e.target.options[e.target.selectedIndex];l({...a,barangay:s.value,brgy_code:s.dataset.code}),d(i({...n,address_info:{...n.address_info,[e.target.name]:e.target.value}}))},className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-8 text-base text-gray-900 outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm/6",children:[t.jsx("option",{value:"",selected:!0,disabled:!0,children:"-- Select a Barangay --"}),(_=r==null?void 0:r.barangay)==null?void 0:_.map((e,s)=>t.jsx("option",{value:e.brgy_name,"data-code":e.brgy_code,children:e.brgy_name},s))]})]}),t.jsxs("div",{className:"sm:col-span-4",children:[t.jsx("label",{htmlFor:"street_address_2",className:"block text-sm/6 font-medium text-gray-900",children:"Street/Sitio/Subdv."}),t.jsx("div",{children:t.jsx("input",{id:"street_address_2",name:"street_address_2",type:"text",onChange:e=>d(i({...n,address_info:{...n.address_info,[e.target.name]:e.target.value}})),className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"})})]}),t.jsxs("div",{className:"sm:col-span-4",children:[t.jsx("label",{htmlFor:"street_address",className:"block text-sm/6 font-medium text-gray-900",children:"House No./Lot/Bldg.No./Purok"}),t.jsx("div",{children:t.jsx("input",{id:"street_address",name:"street_address",type:"text",onChange:e=>d(i({...n,address_info:{...n.address_info,[e.target.name]:e.target.value}})),className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-green-500 focus:border-green-500 sm:text-sm/6"})})]})]})]})})}export{k as default};
