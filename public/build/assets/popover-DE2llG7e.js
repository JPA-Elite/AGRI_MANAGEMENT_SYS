import{r as n,R as b}from"./app-Bo0b5hcW.js";import{y as Ie,$ as ke,c as xe,w as Ce,e as Fe,x as Be,R as Re,b as Me,d as Te,M as Oe,r as Pe}from"./ChevronDownIcon-DriQvE9T.js";import{K as z,y as J,o as g,_ as ue,L as te,n as Le,b as $e,x as Se,i as Y,R as ye,s as _e,T as De,c as be,e as Ae,u as W,O as ne}from"./use-server-handoff-complete-Dc9SebzZ.js";import{n as re,u as ge,c as se,s as ie,m as Ne,h as je,P as K,F as N,j as Ge,q as pe,l as Ve,e as He,R as Ze,E as qe,g as Ke,O as Ee,C as We,o as Ue,a as q,A as Xe,p as Je,b as j,T as ce}from"./use-tab-direction-D7sAAFzO.js";function Ye({title:e,titleId:r,...i},f){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:f,"aria-labelledby":r},i),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const kt=n.forwardRef(Ye);function ze({title:e,titleId:r,...i},f){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:f,"aria-labelledby":r},i),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const xt=n.forwardRef(ze);function Qe({title:e,titleId:r,...i},f){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:f,"aria-labelledby":r},i),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ct=n.forwardRef(Qe);var et=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(et||{}),tt=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(tt||{});let nt={0:e=>({...e,popoverState:W(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,r){return e.button===r.button?e:{...e,button:r.button}},3(e,r){return e.buttonId===r.buttonId?e:{...e,buttonId:r.buttonId}},4(e,r){return e.panel===r.panel?e:{...e,panel:r.panel}},5(e,r){return e.panelId===r.panelId?e:{...e,panelId:r.panelId}}},de=n.createContext(null);de.displayName="PopoverContext";function oe(e){let r=n.useContext(de);if(r===null){let i=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,oe),i}return r}let le=n.createContext(null);le.displayName="PopoverAPIContext";function fe(e){let r=n.useContext(le);if(r===null){let i=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,fe),i}return r}let ve=n.createContext(null);ve.displayName="PopoverGroupContext";function he(){return n.useContext(ve)}let ae=n.createContext(null);ae.displayName="PopoverPanelContext";function rt(){return n.useContext(ae)}function ot(e,r){return W(r.type,nt,e,r)}let lt="div";function at(e,r){var i;let{__demoMode:f=!1,...P}=e,w=n.useRef(null),k=J(r,De(s=>{w.current=s})),a=n.useRef([]),m=n.useReducer(ot,{__demoMode:f,popoverState:f?0:1,buttons:a,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:n.createRef(),afterPanelSentinel:n.createRef(),afterButtonSentinel:n.createRef()}),[{popoverState:I,button:t,buttonId:$,panel:v,panelId:E,beforePanelSentinel:h,afterPanelSentinel:S,afterButtonSentinel:u},d]=m,y=re((i=w.current)!=null?i:t),R=n.useMemo(()=>{if(!t||!v)return!1;for(let x of document.querySelectorAll("body > *"))if(Number(x==null?void 0:x.contains(t))^Number(x==null?void 0:x.contains(v)))return!0;let s=pe(),o=s.indexOf(t),l=(o+s.length-1)%s.length,p=(o+1)%s.length,c=s[l],B=s[p];return!v.contains(c)&&!v.contains(B)},[t,v]),M=be($),T=be(E),U=n.useMemo(()=>({buttonId:M,panelId:T,close:()=>d({type:1})}),[M,T,d]),O=he(),A=O==null?void 0:O.registerPopover,C=g(()=>{var s;return(s=O==null?void 0:O.isFocusWithinPopoverGroup())!=null?s:(y==null?void 0:y.activeElement)&&((t==null?void 0:t.contains(y.activeElement))||(v==null?void 0:v.contains(y.activeElement)))});n.useEffect(()=>A==null?void 0:A(U),[A,U]);let[G,F]=Ve(),V=He(t),L=Ze({mainTreeNode:V,portals:G,defaultContainers:[t,v]});qe(y==null?void 0:y.defaultView,"focus",s=>{var o,l,p,c,B,x;s.target!==window&&s.target instanceof HTMLElement&&I===0&&(C()||t&&v&&(L.contains(s.target)||(l=(o=h.current)==null?void 0:o.contains)!=null&&l.call(o,s.target)||(c=(p=S.current)==null?void 0:p.contains)!=null&&c.call(p,s.target)||(x=(B=u.current)==null?void 0:B.contains)!=null&&x.call(B,s.target)||d({type:1})))},!0),Ke(I===0,L.resolveContainers,(s,o)=>{d({type:1}),Xe(o,Je.Loose)||(s.preventDefault(),t==null||t.focus())});let _=g(s=>{d({type:1});let o=s?s instanceof HTMLElement?s:"current"in s&&s.current instanceof HTMLElement?s.current:t:t;o==null||o.focus()}),X=n.useMemo(()=>({close:_,isPortalled:R}),[_,R]),Q=n.useMemo(()=>({open:I===0,close:_}),[I,_]),H={ref:k},ee=te();return b.createElement(Ee,{node:V},b.createElement(Oe,null,b.createElement(ae.Provider,{value:null},b.createElement(de.Provider,{value:m},b.createElement(le.Provider,{value:X},b.createElement(We,{value:_},b.createElement(Ae,{value:W(I,{0:Y.Open,1:Y.Closed})},b.createElement(F,null,ee({ourProps:H,theirProps:P,slot:Q,defaultTag:lt,name:"Popover"})))))))))}let ut="button";function st(e,r){let i=n.useId(),{id:f=`headlessui-popover-button-${i}`,disabled:P=!1,autoFocus:w=!1,...k}=e,[a,m]=oe("Popover.Button"),{isPortalled:I}=fe("Popover.Button"),t=n.useRef(null),$=`headlessui-focus-sentinel-${n.useId()}`,v=he(),E=v==null?void 0:v.closeOthers,h=rt()!==null;n.useEffect(()=>{if(!h)return m({type:3,buttonId:f}),()=>{m({type:3,buttonId:null})}},[h,f,m]);let[S]=n.useState(()=>Symbol()),u=J(t,r,Ie(),g(o=>{if(!h){if(o)a.buttons.current.push(S);else{let l=a.buttons.current.indexOf(S);l!==-1&&a.buttons.current.splice(l,1)}a.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),o&&m({type:2,button:o})}})),d=J(t,r),y=re(t),R=g(o=>{var l,p,c;if(h){if(a.popoverState===1)return;switch(o.key){case q.Space:case q.Enter:o.preventDefault(),(p=(l=o.target).click)==null||p.call(l),m({type:1}),(c=a.button)==null||c.focus();break}}else switch(o.key){case q.Space:case q.Enter:o.preventDefault(),o.stopPropagation(),a.popoverState===1&&(E==null||E(a.buttonId)),m({type:0});break;case q.Escape:if(a.popoverState!==0)return E==null?void 0:E(a.buttonId);if(!t.current||y!=null&&y.activeElement&&!t.current.contains(y.activeElement))return;o.preventDefault(),o.stopPropagation(),m({type:1});break}}),M=g(o=>{h||o.key===q.Space&&o.preventDefault()}),T=g(o=>{var l,p;Pe(o.currentTarget)||P||(h?(m({type:1}),(l=a.button)==null||l.focus()):(o.preventDefault(),o.stopPropagation(),a.popoverState===1&&(E==null||E(a.buttonId)),m({type:0}),(p=a.button)==null||p.focus()))}),U=g(o=>{o.preventDefault(),o.stopPropagation()}),{isFocusVisible:O,focusProps:A}=ke({autoFocus:w}),{isHovered:C,hoverProps:G}=xe({isDisabled:P}),{pressed:F,pressProps:V}=Ce({disabled:P}),L=a.popoverState===0,_=n.useMemo(()=>({open:L,active:F||L,disabled:P,hover:C,focus:O,autofocus:w}),[L,C,O,F,P,w]),X=Fe(e,a.button),Q=h?ue({ref:d,type:X,onKeyDown:R,onClick:T,disabled:P||void 0,autoFocus:w},A,G,V):ue({ref:u,id:a.buttonId,type:X,"aria-expanded":a.popoverState===0,"aria-controls":a.panel?a.panelId:void 0,disabled:P||void 0,autoFocus:w,onKeyDown:R,onKeyUp:M,onClick:T,onMouseDown:U},A,G,V),H=ge(),ee=g(()=>{let o=a.panel;if(!o)return;function l(){W(H.current,{[j.Forwards]:()=>K(o,N.First),[j.Backwards]:()=>K(o,N.Last)})===ce.Error&&K(pe().filter(p=>p.dataset.headlessuiFocusGuard!=="true"),W(H.current,{[j.Forwards]:N.Next,[j.Backwards]:N.Previous}),{relativeTo:a.button})}l()}),s=te();return b.createElement(b.Fragment,null,s({ourProps:Q,theirProps:k,slot:_,defaultTag:ut,name:"Popover.Button"}),L&&!h&&I&&b.createElement(se,{id:$,ref:a.afterButtonSentinel,features:ie.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:ee}))}let it="div",ct=ne.RenderStrategy|ne.Static;function we(e,r){let i=n.useId(),{id:f=`headlessui-popover-backdrop-${i}`,transition:P=!1,...w}=e,[{popoverState:k},a]=oe("Popover.Backdrop"),[m,I]=n.useState(null),t=J(r,I),$=$e(),[v,E]=Se(P,m,$!==null?($&Y.Open)===Y.Open:k===0),h=g(d=>{if(Pe(d.currentTarget))return d.preventDefault();a({type:1})}),S=n.useMemo(()=>({open:k===0}),[k]),u={ref:t,id:f,"aria-hidden":!0,onClick:h,...ye(E)};return te()({ourProps:u,theirProps:w,slot:S,defaultTag:it,features:ct,visible:v,name:"Popover.Backdrop"})}let pt="div",dt=ne.RenderStrategy|ne.Static;function ft(e,r){let i=n.useId(),{id:f=`headlessui-popover-panel-${i}`,focus:P=!1,anchor:w,portal:k=!1,modal:a=!1,transition:m=!1,...I}=e,[t,$]=oe("Popover.Panel"),{close:v,isPortalled:E}=fe("Popover.Panel"),h=`headlessui-focus-sentinel-before-${i}`,S=`headlessui-focus-sentinel-after-${i}`,u=n.useRef(null),d=Be(w),[y,R]=Re(d),M=Me();d&&(k=!0);let[T,U]=n.useState(null),O=J(u,r,d?y:null,g(l=>$({type:4,panel:l})),U),A=re(t.button),C=re(u);Le(()=>($({type:5,panelId:f}),()=>{$({type:5,panelId:null})}),[f,$]);let G=$e(),[F,V]=Se(m,T,G!==null?(G&Y.Open)===Y.Open:t.popoverState===0);Ne(F,t.button,()=>{$({type:1})});let L=t.__demoMode?!1:a&&F;je(L,C);let _=g(l=>{var p;switch(l.key){case q.Escape:if(t.popoverState!==0||!u.current||C!=null&&C.activeElement&&!u.current.contains(C.activeElement))return;l.preventDefault(),l.stopPropagation(),$({type:1}),(p=t.button)==null||p.focus();break}});n.useEffect(()=>{var l;e.static||t.popoverState===1&&((l=e.unmount)==null||l)&&$({type:4,panel:null})},[t.popoverState,e.unmount,e.static,$]),n.useEffect(()=>{if(t.__demoMode||!P||t.popoverState!==0||!u.current)return;let l=C==null?void 0:C.activeElement;u.current.contains(l)||K(u.current,N.First)},[t.__demoMode,P,u.current,t.popoverState]);let X=n.useMemo(()=>({open:t.popoverState===0,close:v}),[t.popoverState,v]),Q=ue(d?M():{},{ref:O,id:f,onKeyDown:_,onBlur:P&&t.popoverState===0?l=>{var p,c,B,x,Z;let D=l.relatedTarget;D&&u.current&&((p=u.current)!=null&&p.contains(D)||($({type:1}),((B=(c=t.beforePanelSentinel.current)==null?void 0:c.contains)!=null&&B.call(c,D)||(Z=(x=t.afterPanelSentinel.current)==null?void 0:x.contains)!=null&&Z.call(x,D))&&D.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...I.style,...R,"--button-width":Te(t.button,!0).width},...ye(V)}),H=ge(),ee=g(()=>{let l=u.current;if(!l)return;function p(){W(H.current,{[j.Forwards]:()=>{var c;K(l,N.First)===ce.Error&&((c=t.afterPanelSentinel.current)==null||c.focus())},[j.Backwards]:()=>{var c;(c=t.button)==null||c.focus({preventScroll:!0})}})}p()}),s=g(()=>{let l=u.current;if(!l)return;function p(){W(H.current,{[j.Forwards]:()=>{if(!t.button)return;let c=pe(),B=c.indexOf(t.button),x=c.slice(0,B+1),Z=[...c.slice(B+1),...x];for(let D of Z.slice())if(D.dataset.headlessuiFocusGuard==="true"||T!=null&&T.contains(D)){let me=Z.indexOf(D);me!==-1&&Z.splice(me,1)}K(Z,N.First,{sorted:!1})},[j.Backwards]:()=>{var c;K(l,N.Previous)===ce.Error&&((c=t.button)==null||c.focus())}})}p()}),o=te();return b.createElement(_e,null,b.createElement(ae.Provider,{value:f},b.createElement(le.Provider,{value:{close:v,isPortalled:E}},b.createElement(Ge,{enabled:k?e.static||F:!1,ownerDocument:A},F&&E&&b.createElement(se,{id:h,ref:t.beforePanelSentinel,features:ie.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:ee}),o({ourProps:Q,theirProps:I,slot:X,defaultTag:pt,features:dt,visible:F,name:"Popover.Panel"}),F&&E&&b.createElement(se,{id:S,ref:t.afterPanelSentinel,features:ie.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:s})))))}let vt="div";function mt(e,r){let i=n.useRef(null),f=J(i,r),[P,w]=n.useState([]),k=g(S=>{w(u=>{let d=u.indexOf(S);if(d!==-1){let y=u.slice();return y.splice(d,1),y}return u})}),a=g(S=>(w(u=>[...u,S]),()=>k(S))),m=g(()=>{var S;let u=Ue(i);if(!u)return!1;let d=u.activeElement;return(S=i.current)!=null&&S.contains(d)?!0:P.some(y=>{var R,M;return((R=u.getElementById(y.buttonId.current))==null?void 0:R.contains(d))||((M=u.getElementById(y.panelId.current))==null?void 0:M.contains(d))})}),I=g(S=>{for(let u of P)u.buttonId.current!==S&&u.close()}),t=n.useMemo(()=>({registerPopover:a,unregisterPopover:k,isFocusWithinPopoverGroup:m,closeOthers:I}),[a,k,m,I]),$=n.useMemo(()=>({}),[]),v=e,E={ref:f},h=te();return b.createElement(Ee,null,b.createElement(ve.Provider,{value:t},h({ourProps:E,theirProps:v,slot:$,defaultTag:vt,name:"Popover.Group"})))}let bt=z(at),Pt=z(st),$t=z(we),St=z(we),yt=z(ft),gt=z(mt),Ft=Object.assign(bt,{Button:Pt,Backdrop:St,Overlay:$t,Panel:yt,Group:gt});export{Pt as A,yt as B,xt as F,Ft as a,kt as b,Ct as c};
