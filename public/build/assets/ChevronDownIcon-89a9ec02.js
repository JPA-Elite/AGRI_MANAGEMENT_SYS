import{R as It,r as u,h as me,g as Bt}from"./app-52d26154.js";import{o as Wt}from"./use-tab-direction-f2228eb7.js";import{p as ct,o as pe,n as ce}from"./use-server-handoff-complete-d6e7b9aa.js";const at=typeof document<"u"?It.useLayoutEffect:()=>{};function Nt(e){const t=u.useRef(null);return at(()=>{t.current=e},[e]),u.useCallback((...n)=>{const o=t.current;return o==null?void 0:o(...n)},[])}const K=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},U=e=>e&&"window"in e&&e.window===e?e:K(e).defaultView||window;function Vt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function _t(e){return Vt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let jt=!1;function We(){return jt}function ut(e,t){if(!We())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:_t(n)?n=n.host:n=n.parentNode}return!1}const Me=(e=document)=>{var t;if(!We())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function ft(e){return We()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Gt(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function zt(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function dt(e){let t=null;return()=>(t==null&&(t=e()),t)}const Yt=dt(function(){return zt(/^Mac/i)}),Kt=dt(function(){return Gt(/Android/i)});function gt(){let e=u.useRef(new Map),t=u.useCallback((r,i,s,l)=>{let c=l!=null&&l.once?(...a)=>{e.current.delete(s),s(...a)}:s;e.current.set(s,{type:i,eventTarget:r,fn:c,options:l}),r.addEventListener(i,c,l)},[]),n=u.useCallback((r,i,s,l)=>{var c;let a=((c=e.current.get(s))===null||c===void 0?void 0:c.fn)||s;r.removeEventListener(i,a,l),e.current.delete(s)},[]),o=u.useCallback(()=>{e.current.forEach((r,i)=>{n(r.eventTarget,r.type,i,r.options)})},[n]);return u.useEffect(()=>o,[o]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:o}}function Ut(e){return e.mozInputSource===0&&e.isTrusted?!0:Kt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function mt(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function qt(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function pt(e){let t=u.useRef({isFocused:!1,observer:null});at(()=>{const o=t.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let n=Nt(o=>{e==null||e(o)});return u.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=o.target,i=s=>{if(t.current.isFocused=!1,r.disabled){let l=mt(s);n(l)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let l=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Xt=!1,ae=null,Pe=new Set,ie=new Map,q=!1,Oe=!1;const Jt={Tab:!0,Escape:!0};function Ne(e,t){for(let n of Pe)n(e,t)}function Qt(e){return!(e.metaKey||!Yt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function he(e){q=!0,Qt(e)&&(ae="keyboard",Ne("keyboard",e))}function Z(e){ae="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(q=!0,Ne("pointer",e))}function ht(e){Ut(e)&&(q=!0,ae="virtual")}function vt(e){e.target===window||e.target===document||Xt||!e.isTrusted||(!q&&!Oe&&(ae="virtual",Ne("virtual",e)),q=!1,Oe=!1)}function bt(){q=!1,Oe=!0}function He(e){if(typeof window>"u"||ie.get(U(e)))return;const t=U(e),n=K(e);let o=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){q=!0,o.apply(this,arguments)},n.addEventListener("keydown",he,!0),n.addEventListener("keyup",he,!0),n.addEventListener("click",ht,!0),t.addEventListener("focus",vt,!0),t.addEventListener("blur",bt,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Z,!0),n.addEventListener("pointermove",Z,!0),n.addEventListener("pointerup",Z,!0)),t.addEventListener("beforeunload",()=>{wt(e)},{once:!0}),ie.set(t,{focus:o})}const wt=(e,t)=>{const n=U(e),o=K(e);t&&o.removeEventListener("DOMContentLoaded",t),ie.has(n)&&(n.HTMLElement.prototype.focus=ie.get(n).focus,o.removeEventListener("keydown",he,!0),o.removeEventListener("keyup",he,!0),o.removeEventListener("click",ht,!0),n.removeEventListener("focus",vt,!0),n.removeEventListener("blur",bt,!1),typeof PointerEvent<"u"&&(o.removeEventListener("pointerdown",Z,!0),o.removeEventListener("pointermove",Z,!0),o.removeEventListener("pointerup",Z,!0)),ie.delete(n))};function Zt(e){const t=K(e);let n;return t.readyState!=="loading"?He(e):(n=()=>{He(e)},t.addEventListener("DOMContentLoaded",n)),()=>wt(e,n)}typeof document<"u"&&Zt();function yt(){return ae!=="pointer"}const en=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function tn(e,t,n){let o=K(n==null?void 0:n.target);const r=typeof window<"u"?U(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?U(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?U(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?U(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||o.activeElement instanceof r&&!en.has(o.activeElement.type)||o.activeElement instanceof i||o.activeElement instanceof s&&o.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!Jt[n.key])}function nn(e,t,n){He(),u.useEffect(()=>{let o=(r,i)=>{tn(!!(n!=null&&n.isTextInput),r,i)&&e(yt())};return Pe.add(o),()=>{Pe.delete(o)}},t)}function on(e){let{isDisabled:t,onFocus:n,onBlur:o,onFocusChange:r}=e;const i=u.useCallback(c=>{if(c.target===c.currentTarget)return o&&o(c),r&&r(!1),!0},[o,r]),s=pt(i),l=u.useCallback(c=>{const a=K(c.target),f=a?Me(a):Me();c.target===c.currentTarget&&f===ft(c.nativeEvent)&&(n&&n(c),r&&r(!0),s(c))},[r,n,s]);return{focusProps:{onFocus:!t&&(n||r||o)?l:void 0,onBlur:!t&&(o||r)?i:void 0}}}function rn(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:r}=e,i=u.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:l}=gt(),c=u.useCallback(g=>{g.currentTarget.contains(g.target)&&i.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(i.current.isFocusWithin=!1,l(),n&&n(g),r&&r(!1))},[n,r,i,l]),a=pt(c),f=u.useCallback(g=>{if(!g.currentTarget.contains(g.target))return;const h=K(g.target),d=Me(h);if(!i.current.isFocusWithin&&d===ft(g.nativeEvent)){o&&o(g),r&&r(!0),i.current.isFocusWithin=!0,a(g);let m=g.currentTarget;s(h,"focus",p=>{if(i.current.isFocusWithin&&!ut(m,p.target)){let v=new h.defaultView.FocusEvent("blur",{relatedTarget:p.target});qt(v,m);let b=mt(v);c(b)}},{capture:!0})}},[o,r,a,s,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:c}}}let De=!1,Te=0;function sn(){De=!0,setTimeout(()=>{De=!1},50)}function Ue(e){e.pointerType==="touch"&&sn()}function ln(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Ue),Te++,()=>{Te--,!(Te>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Ue)}}function To(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:o,isDisabled:r}=e,[i,s]=u.useState(!1),l=u.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;u.useEffect(ln,[]);let{addGlobalListener:c,removeAllGlobalListeners:a}=gt(),{hoverProps:f,triggerHoverEnd:g}=u.useMemo(()=>{let h=(p,v)=>{if(l.pointerType=v,r||v==="touch"||l.isHovered||!p.currentTarget.contains(p.target))return;l.isHovered=!0;let b=p.currentTarget;l.target=b,c(K(p.target),"pointerover",y=>{l.isHovered&&l.target&&!ut(l.target,y.target)&&d(y,y.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:v}),n&&n(!0),s(!0)},d=(p,v)=>{let b=l.target;l.pointerType="",l.target=null,!(v==="touch"||!l.isHovered||!b)&&(l.isHovered=!1,a(),o&&o({type:"hoverend",target:b,pointerType:v}),n&&n(!1),s(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=p=>{De&&p.pointerType==="mouse"||h(p,p.pointerType)},m.onPointerLeave=p=>{!r&&p.currentTarget.contains(p.target)&&d(p,p.pointerType)}),{hoverProps:m,triggerHoverEnd:d}},[t,n,o,r,l,c,a]);return u.useEffect(()=>{r&&g({currentTarget:l.target},l.pointerType)},[r]),{hoverProps:f,isHovered:i}}function Co(e={}){let{autoFocus:t=!1,isTextInput:n,within:o}=e,r=u.useRef({isFocused:!1,isFocusVisible:t||yt()}),[i,s]=u.useState(!1),[l,c]=u.useState(()=>r.current.isFocused&&r.current.isFocusVisible),a=u.useCallback(()=>c(r.current.isFocused&&r.current.isFocusVisible),[]),f=u.useCallback(d=>{r.current.isFocused=d,s(d),a()},[a]);nn(d=>{r.current.isFocusVisible=d,a()},[],{isTextInput:n});let{focusProps:g}=on({isDisabled:o,onFocusChange:f}),{focusWithinProps:h}=rn({isDisabled:!o,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:l,focusProps:o?h:g}}function cn(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function an(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Fo({disabled:e=!1}={}){let t=u.useRef(null),[n,o]=u.useState(!1),r=ct(),i=pe(()=>{t.current=null,o(!1),r.dispose()}),s=pe(l=>{if(r.dispose(),t.current===null){t.current=l.currentTarget,o(!0);{let c=Wt(l.currentTarget);r.addEventListener(c,"pointerup",i,!1),r.addEventListener(c,"pointermove",a=>{if(t.current){let f=cn(a);o(an(f,t.current.getBoundingClientRect()))}},!1),r.addEventListener(c,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:i,onClick:i}}}function Lo(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let o=(t==null?void 0:t.getAttribute("disabled"))==="";return o&&un(n)?!1:o}function un(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function fn(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function So(e,t=!1){let[n,o]=u.useReducer(()=>({}),{}),r=u.useMemo(()=>fn(e),[e,n]);return ce(()=>{if(!e)return;let i=new ResizeObserver(o);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${r.width}px`,height:`${r.height}px`}:r}function Ao(e,t){return u.useMemo(()=>{var n;if(e.type)return e.type;let o=(n=e.as)!=null?n:"button";if(typeof o=="string"&&o.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function ye(){return typeof window<"u"}function ne(e){return xt(e)?(e.nodeName||"").toLowerCase():"#document"}function I(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function j(e){var t;return(t=(xt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xt(e){return ye()?e instanceof Node||e instanceof I(e).Node:!1}function D(e){return ye()?e instanceof Element||e instanceof I(e).Element:!1}function _(e){return ye()?e instanceof HTMLElement||e instanceof I(e).HTMLElement:!1}function qe(e){return!ye()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof I(e).ShadowRoot}function ue(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=N(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function dn(e){return["table","td","th"].includes(ne(e))}function xe(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ve(e){const t=_e(),n=D(e)?N(e):e;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function gn(e){let t=z(e);for(;_(t)&&!te(t);){if(Ve(t))return t;if(xe(t))return null;t=z(t)}return null}function _e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function te(e){return["html","body","#document"].includes(ne(e))}function N(e){return I(e).getComputedStyle(e)}function Ee(e){return D(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function z(e){if(ne(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qe(e)&&e.host||j(e);return qe(t)?t.host:t}function Et(e){const t=z(e);return te(t)?e.ownerDocument?e.ownerDocument.body:e.body:_(t)&&ue(t)?t:Et(t)}function se(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Et(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=I(r);if(i){const l=ke(s);return t.concat(s,s.visualViewport||[],ue(r)?r:[],l&&n?se(l):[])}return t.concat(r,se(r,[],n))}function ke(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}const X=Math.min,P=Math.max,le=Math.round,de=Math.floor,V=e=>({x:e,y:e}),pn={left:"right",right:"left",bottom:"top",top:"bottom"},hn={start:"end",end:"start"};function Xe(e,t,n){return P(e,X(t,n))}function oe(e,t){return typeof e=="function"?e(t):e}function Y(e){return e.split("-")[0]}function fe(e){return e.split("-")[1]}function $t(e){return e==="x"?"y":"x"}function Rt(e){return e==="y"?"height":"width"}function J(e){return["top","bottom"].includes(Y(e))?"y":"x"}function Tt(e){return $t(J(e))}function vn(e,t,n){n===void 0&&(n=!1);const o=fe(e),r=Tt(e),i=Rt(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=ve(s)),[s,ve(s)]}function bn(e){const t=ve(e);return[Ie(e),t,Ie(t)]}function Ie(e){return e.replace(/start|end/g,t=>hn[t])}function wn(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:s;default:return[]}}function yn(e,t,n,o){const r=fe(e);let i=wn(Y(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(Ie)))),i}function ve(e){return e.replace(/left|right|bottom|top/g,t=>pn[t])}function xn(e){return{top:0,right:0,bottom:0,left:0,...e}}function En(e){return typeof e!="number"?xn(e):{top:e,right:e,bottom:e,left:e}}function be(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function Je(e,t,n){let{reference:o,floating:r}=e;const i=J(t),s=Tt(t),l=Rt(s),c=Y(t),a=i==="y",f=o.x+o.width/2-r.width/2,g=o.y+o.height/2-r.height/2,h=o[l]/2-r[l]/2;let d;switch(c){case"top":d={x:f,y:o.y-r.height};break;case"bottom":d={x:f,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:g};break;case"left":d={x:o.x-r.width,y:g};break;default:d={x:o.x,y:o.y}}switch(fe(t)){case"start":d[s]-=h*(n&&a?-1:1);break;case"end":d[s]+=h*(n&&a?-1:1);break}return d}const $n=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:g}=Je(a,o,c),h=o,d={},m=0;for(let p=0;p<l.length;p++){const{name:v,fn:b}=l[p],{x:y,y:w,data:x,reset:E}=await b({x:f,y:g,initialPlacement:o,placement:h,strategy:r,middlewareData:d,rects:a,platform:s,elements:{reference:e,floating:t}});f=y??f,g=w??g,d={...d,[v]:{...d[v],...x}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(a=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):E.rects),{x:f,y:g}=Je(a,h,c)),p=-1)}return{x:f,y:g,placement:h,strategy:r,middlewareData:d}};async function $e(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:a="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:h=!1,padding:d=0}=oe(t,e),m=En(d),v=l[h?g==="floating"?"reference":"floating":g],b=be(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:a,rootBoundary:f,strategy:c})),y=g==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),x=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},E=be(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-E.top+m.top)/x.y,bottom:(E.bottom-b.bottom+m.bottom)/x.y,left:(b.left-E.left+m.left)/x.x,right:(E.right-b.right+m.right)/x.x}}const Rn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:a}=t,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...v}=oe(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Y(r),y=J(l),w=Y(l)===l,x=await(c.isRTL==null?void 0:c.isRTL(a.floating)),E=h||(w||!p?[ve(l)]:bn(l)),R=m!=="none";!h&&R&&E.push(...yn(l,p,m,x));const T=[l,...E],O=await $e(t,v),B=[];let A=((o=i.flip)==null?void 0:o.overflows)||[];if(f&&B.push(O[b]),g){const L=vn(r,s,x);B.push(O[L[0]],O[L[1]])}if(A=[...A,{placement:r,overflows:B}],!B.every(L=>L<=0)){var F,k;const L=(((F=i.flip)==null?void 0:F.index)||0)+1,G=T[L];if(G)return{data:{index:L,overflows:A},reset:{placement:G}};let S=(k=A.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:k.placement;if(!S)switch(d){case"bestFit":{var M;const W=(M=A.filter($=>{if(R){const C=J($.placement);return C===y||C==="y"}return!0}).map($=>[$.placement,$.overflows.filter(C=>C>0).reduce((C,H)=>C+H,0)]).sort(($,C)=>$[1]-C[1])[0])==null?void 0:M[0];W&&(S=W);break}case"initialPlacement":S=l;break}if(r!==S)return{reset:{placement:S}}}return{}}}};async function Tn(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=Y(n),l=fe(n),c=J(n)==="y",a=["left","top"].includes(s)?-1:1,f=i&&c?-1:1,g=oe(t,e);let{mainAxis:h,crossAxis:d,alignmentAxis:m}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof m=="number"&&(d=l==="end"?m*-1:m),c?{x:d*f,y:h*a}:{x:h*a,y:d*f}}const Cn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=t,c=await Tn(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:s}}}}},Fn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...c}=oe(e,t),a={x:n,y:o},f=await $e(t,c),g=J(Y(r)),h=$t(g);let d=a[h],m=a[g];if(i){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=d+f[v],w=d-f[b];d=Xe(y,d,w)}if(s){const v=g==="y"?"top":"left",b=g==="y"?"bottom":"right",y=m+f[v],w=m-f[b];m=Xe(y,m,w)}const p=l.fn({...t,[h]:d,[g]:m});return{...p,data:{x:p.x-n,y:p.y-o,enabled:{[h]:i,[g]:s}}}}}},Ln=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:i,platform:s,elements:l}=t,{apply:c=()=>{},...a}=oe(e,t),f=await $e(t,a),g=Y(r),h=fe(r),d=J(r)==="y",{width:m,height:p}=i.floating;let v,b;g==="top"||g==="bottom"?(v=g,b=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(b=g,v=h==="end"?"top":"bottom");const y=p-f.top-f.bottom,w=m-f.left-f.right,x=X(p-f[v],y),E=X(m-f[b],w),R=!t.middlewareData.shift;let T=x,O=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=w),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(T=y),R&&!h){const A=P(f.left,0),F=P(f.right,0),k=P(f.top,0),M=P(f.bottom,0);d?O=m-2*(A!==0||F!==0?A+F:P(f.left,f.right)):T=p-2*(k!==0||M!==0?k+M:P(f.top,f.bottom))}await c({...t,availableWidth:O,availableHeight:T});const B=await s.getDimensions(l.floating);return m!==B.width||p!==B.height?{reset:{rects:!0}}:{}}}};function Ct(e){const t=N(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=_(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,l=le(n)!==i||le(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function je(e){return D(e)?e:e.contextElement}function ee(e){const t=je(e);if(!_(t))return V(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=Ct(t);let s=(i?le(n.width):n.width)/o,l=(i?le(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Sn=V(0);function Ft(e){const t=I(e);return!_e()||!t.visualViewport?Sn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function An(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==I(e)?!1:t}function Q(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=je(e);let s=V(1);t&&(o?D(o)&&(s=ee(o)):s=ee(e));const l=An(i,n,o)?Ft(i):V(0);let c=(r.left+l.x)/s.x,a=(r.top+l.y)/s.y,f=r.width/s.x,g=r.height/s.y;if(i){const h=I(i),d=o&&D(o)?I(o):o;let m=h,p=ke(m);for(;p&&o&&d!==m;){const v=ee(p),b=p.getBoundingClientRect(),y=N(p),w=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*v.x,x=b.top+(p.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,a*=v.y,f*=v.x,g*=v.y,c+=w,a+=x,m=I(p),p=ke(m)}}return be({width:f,height:g,x:c,y:a})}function Ge(e,t){const n=Ee(e).scrollLeft;return t?t.left+n:Q(j(e)).left+n}function Lt(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),r=o.left+t.scrollLeft-(n?0:Ge(e,o)),i=o.top+t.scrollTop;return{x:r,y:i}}function Mn(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=j(o),l=t?xe(t.floating):!1;if(o===s||l&&i)return n;let c={scrollLeft:0,scrollTop:0},a=V(1);const f=V(0),g=_(o);if((g||!g&&!i)&&((ne(o)!=="body"||ue(s))&&(c=Ee(o)),_(o))){const d=Q(o);a=ee(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}const h=s&&!g&&!i?Lt(s,c,!0):V(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-c.scrollLeft*a.x+f.x+h.x,y:n.y*a.y-c.scrollTop*a.y+f.y+h.y}}function Pn(e){return Array.from(e.getClientRects())}function On(e){const t=j(e),n=Ee(e),o=e.ownerDocument.body,r=P(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=P(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Ge(e);const l=-n.scrollTop;return N(o).direction==="rtl"&&(s+=P(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function Hn(e,t){const n=I(e),o=j(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,c=0;if(r){i=r.width,s=r.height;const a=_e();(!a||a&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:s,x:l,y:c}}function Dn(e,t){const n=Q(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=_(e)?ee(e):V(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=r*i.x,a=o*i.y;return{width:s,height:l,x:c,y:a}}function Qe(e,t,n){let o;if(t==="viewport")o=Hn(e,n);else if(t==="document")o=On(j(e));else if(D(t))o=Dn(t,n);else{const r=Ft(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return be(o)}function St(e,t){const n=z(e);return n===t||!D(n)||te(n)?!1:N(n).position==="fixed"||St(n,t)}function kn(e,t){const n=t.get(e);if(n)return n;let o=se(e,[],!1).filter(l=>D(l)&&ne(l)!=="body"),r=null;const i=N(e).position==="fixed";let s=i?z(e):e;for(;D(s)&&!te(s);){const l=N(s),c=Ve(s);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ue(s)&&!c&&St(e,s))?o=o.filter(f=>f!==s):r=l,s=z(s)}return t.set(e,o),o}function In(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?xe(t)?[]:kn(t,this._c):[].concat(n),o],l=s[0],c=s.reduce((a,f)=>{const g=Qe(t,f,r);return a.top=P(g.top,a.top),a.right=X(g.right,a.right),a.bottom=X(g.bottom,a.bottom),a.left=P(g.left,a.left),a},Qe(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Bn(e){const{width:t,height:n}=Ct(e);return{width:t,height:n}}function Wn(e,t,n){const o=_(t),r=j(t),i=n==="fixed",s=Q(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=V(0);if(o||!o&&!i)if((ne(t)!=="body"||ue(r))&&(l=Ee(t)),o){const h=Q(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else r&&(c.x=Ge(r));const a=r&&!o&&!i?Lt(r,l):V(0),f=s.left+l.scrollLeft-c.x-a.x,g=s.top+l.scrollTop-c.y-a.y;return{x:f,y:g,width:s.width,height:s.height}}function Ce(e){return N(e).position==="static"}function Ze(e,t){if(!_(e)||N(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return j(e)===n&&(n=n.ownerDocument.body),n}function At(e,t){const n=I(e);if(xe(e))return n;if(!_(e)){let r=z(e);for(;r&&!te(r);){if(D(r)&&!Ce(r))return r;r=z(r)}return n}let o=Ze(e,t);for(;o&&dn(o)&&Ce(o);)o=Ze(o,t);return o&&te(o)&&Ce(o)&&!Ve(o)?n:o||gn(e)||n}const Nn=async function(e){const t=this.getOffsetParent||At,n=this.getDimensions,o=await n(e.floating);return{reference:Wn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Vn(e){return N(e).direction==="rtl"}const _n={convertOffsetParentRelativeRectToViewportRelativeRect:Mn,getDocumentElement:j,getClippingRect:In,getOffsetParent:At,getElementRects:Nn,getClientRects:Pn,getDimensions:Bn,getScale:ee,isElement:D,isRTL:Vn};function Mt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jn(e,t){let n=null,o;const r=j(e);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const a=e.getBoundingClientRect(),{left:f,top:g,width:h,height:d}=a;if(l||t(),!h||!d)return;const m=de(g),p=de(r.clientWidth-(f+h)),v=de(r.clientHeight-(g+d)),b=de(f),w={rootMargin:-m+"px "+-p+"px "+-v+"px "+-b+"px",threshold:P(0,X(1,c))||1};let x=!0;function E(R){const T=R[0].intersectionRatio;if(T!==c){if(!x)return s();T?s(!1,T):o=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!Mt(a,e.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(E,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(e)}return s(!0),i}function Gn(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,a=je(e),f=r||i?[...a?se(a):[],...se(t)]:[];f.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const g=a&&l?jn(a,n):null;let h=-1,d=null;s&&(d=new ResizeObserver(b=>{let[y]=b;y&&y.target===a&&d&&(d.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=d)==null||w.observe(t)})),n()}),a&&!c&&d.observe(a),d.observe(t));let m,p=c?Q(e):null;c&&v();function v(){const b=Q(e);p&&!Mt(p,b)&&n(),p=b,m=requestAnimationFrame(v)}return n(),()=>{var b;f.forEach(y=>{r&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),g==null||g(),(b=d)==null||b.disconnect(),d=null,c&&cancelAnimationFrame(m)}}const Fe=$e,zn=Cn,Yn=Fn,Kn=Rn,Un=Ln,qn=(e,t,n)=>{const o=new Map,r={platform:_n,...n},i={...r.platform,_c:o};return $n(e,t,{...r,platform:i})};var ge=typeof document<"u"?u.useLayoutEffect:u.useEffect;function we(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!we(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!we(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Pt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function et(e,t){const n=Pt(e);return Math.round(t*n)/n}function Le(e){const t=u.useRef(e);return ge(()=>{t.current=e}),t}function Xn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:a}=e,[f,g]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,d]=u.useState(o);we(h,o)||d(o);const[m,p]=u.useState(null),[v,b]=u.useState(null),y=u.useCallback($=>{$!==R.current&&(R.current=$,p($))},[]),w=u.useCallback($=>{$!==T.current&&(T.current=$,b($))},[]),x=i||m,E=s||v,R=u.useRef(null),T=u.useRef(null),O=u.useRef(f),B=c!=null,A=Le(c),F=Le(r),k=Le(a),M=u.useCallback(()=>{if(!R.current||!T.current)return;const $={placement:t,strategy:n,middleware:h};F.current&&($.platform=F.current),qn(R.current,T.current,$).then(C=>{const H={...C,isPositioned:k.current!==!1};L.current&&!we(O.current,H)&&(O.current=H,me.flushSync(()=>{g(H)}))})},[h,t,n,F,k]);ge(()=>{a===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[a]);const L=u.useRef(!1);ge(()=>(L.current=!0,()=>{L.current=!1}),[]),ge(()=>{if(x&&(R.current=x),E&&(T.current=E),x&&E){if(A.current)return A.current(x,E,M);M()}},[x,E,M,A,B]);const G=u.useMemo(()=>({reference:R,floating:T,setReference:y,setFloating:w}),[y,w]),S=u.useMemo(()=>({reference:x,floating:E}),[x,E]),W=u.useMemo(()=>{const $={position:n,left:0,top:0};if(!S.floating)return $;const C=et(S.floating,f.x),H=et(S.floating,f.y);return l?{...$,transform:"translate("+C+"px, "+H+"px)",...Pt(S.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:C,top:H}},[n,l,S.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:M,refs:G,elements:S,floatingStyles:W}),[f,M,G,S,W])}const Ot=(e,t)=>({...zn(e),options:[e,t]}),Jn=(e,t)=>({...Yn(e),options:[e,t]}),Qn=(e,t)=>({...Kn(e),options:[e,t]}),Zn=(e,t)=>({...Un(e),options:[e,t]}),Ht={...Bt},eo=Ht.useInsertionEffect,to=eo||(e=>e());function Dt(e){const t=u.useRef(()=>{});return to(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var Be=typeof document<"u"?u.useLayoutEffect:u.useEffect;let tt=!1,no=0;const nt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+no++;function oo(){const[e,t]=u.useState(()=>tt?nt():void 0);return Be(()=>{e==null&&t(nt())},[]),u.useEffect(()=>{tt=!0},[]),e}const ro=Ht.useId,io=ro||oo;function so(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const lo=u.createContext(null),co=u.createContext(null),ao=()=>{var e;return((e=u.useContext(lo))==null?void 0:e.id)||null},uo=()=>u.useContext(co),fo="data-floating-ui-focusable";function go(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=io(),i=u.useRef({}),[s]=u.useState(()=>so()),l=ao()!=null,[c,a]=u.useState(o.reference),f=Dt((d,m,p)=>{i.current.openEvent=d?m:void 0,s.emit("openchange",{open:d,event:m,reason:p,nested:l}),n==null||n(d,m,p)}),g=u.useMemo(()=>({setPositionReference:a}),[]),h=u.useMemo(()=>({reference:c||o.reference||null,floating:o.floating||null,domReference:o.reference}),[c,o.reference,o.floating]);return u.useMemo(()=>({dataRef:i,open:t,onOpenChange:f,elements:h,events:s,floatingId:r,refs:g}),[t,f,h,s,r,g])}function mo(e){e===void 0&&(e={});const{nodeId:t}=e,n=go({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[i,s]=u.useState(null),[l,c]=u.useState(null),f=(r==null?void 0:r.domReference)||i,g=u.useRef(null),h=uo();Be(()=>{f&&(g.current=f)},[f]);const d=Xn({...e,elements:{...r,...l&&{reference:l}}}),m=u.useCallback(w=>{const x=D(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;c(x),d.refs.setReference(x)},[d.refs]),p=u.useCallback(w=>{(D(w)||w===null)&&(g.current=w,s(w)),(D(d.refs.reference.current)||d.refs.reference.current===null||w!==null&&!D(w))&&d.refs.setReference(w)},[d.refs]),v=u.useMemo(()=>({...d.refs,setReference:p,setPositionReference:m,domReference:g}),[d.refs,p,m]),b=u.useMemo(()=>({...d.elements,domReference:f}),[d.elements,f]),y=u.useMemo(()=>({...d,...o,refs:v,elements:b,nodeId:t}),[d,v,b,t,o]);return Be(()=>{o.dataRef.current.floatingContext=y;const w=h==null?void 0:h.nodesRef.current.find(x=>x.id===t);w&&(w.context=y)}),u.useMemo(()=>({...d,context:y,refs:v,elements:b}),[d,v,b,y])}const ot="active",rt="selected";function Se(e,t,n){const o=new Map,r=n==="item";let i=e;if(r&&e){const{[ot]:s,[rt]:l,...c}=e;i=c}return{...n==="floating"&&{tabIndex:-1,[fo]:""},...i,...t.map(s=>{const l=s?s[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((s,l)=>(l&&Object.entries(l).forEach(c=>{let[a,f]=c;if(!(r&&[ot,rt].includes(a)))if(a.indexOf("on")===0){if(o.has(a)||o.set(a,[]),typeof f=="function"){var g;(g=o.get(a))==null||g.push(f),s[a]=function(){for(var h,d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return(h=o.get(a))==null?void 0:h.map(v=>v(...m)).find(v=>v!==void 0)}}}else s[a]=f}),s),{})}}function po(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),n=e.map(l=>l==null?void 0:l.floating),o=e.map(l=>l==null?void 0:l.item),r=u.useCallback(l=>Se(l,e,"reference"),t),i=u.useCallback(l=>Se(l,e,"floating"),n),s=u.useCallback(l=>Se(l,e,"item"),o);return u.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}function it(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const ho=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:i=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:c=0,scrollRef:a,...f}=oe(e,t),{rects:g,elements:{floating:h}}=t,d=n.current[s],m=(a==null?void 0:a.current)||h,p=h.clientTop||m.clientTop,v=h.clientTop!==0,b=m.clientTop!==0,y=h===m;if(!d)return{};const w={...t,...await Ot(-d.offsetTop-h.clientTop-g.reference.height/2-d.offsetHeight/2-i).fn(t)},x=await Fe(it(w,m.scrollHeight+p+h.clientTop),f),E=await Fe(w,{...f,elementContext:"reference"}),R=P(0,x.top),T=w.y+R,A=(m.scrollHeight>m.clientHeight?F=>F:le)(P(0,m.scrollHeight+(v&&y||b?p*2:0)-R-P(0,x.bottom)));if(m.style.maxHeight=A+"px",m.scrollTop=R,r){const F=m.offsetHeight<d.offsetHeight*X(l,n.current.length)-1||E.top>=-c||E.bottom>=-c;me.flushSync(()=>r(F))}return o&&(o.current=await Fe(it({...w,y:T},m.offsetHeight+p+h.clientTop),f)),{y:T}}});function vo(e,t){const{open:n,elements:o}=e,{enabled:r=!0,overflowRef:i,scrollRef:s,onChange:l}=t,c=Dt(l),a=u.useRef(!1),f=u.useRef(null),g=u.useRef(null);u.useEffect(()=>{if(!r)return;function d(p){if(p.ctrlKey||!m||i.current==null)return;const v=p.deltaY,b=i.current.top>=-.5,y=i.current.bottom>=-.5,w=m.scrollHeight-m.clientHeight,x=v<0?-1:1,E=v<0?"max":"min";m.scrollHeight<=m.clientHeight||(!b&&v>0||!y&&v<0?(p.preventDefault(),me.flushSync(()=>{c(R=>R+Math[E](v,w*x))})):/firefox/i.test(mn())&&(m.scrollTop+=v))}const m=(s==null?void 0:s.current)||o.floating;if(n&&m)return m.addEventListener("wheel",d),requestAnimationFrame(()=>{f.current=m.scrollTop,i.current!=null&&(g.current={...i.current})}),()=>{f.current=null,g.current=null,m.removeEventListener("wheel",d)}},[r,n,o.floating,i,s,c]);const h=u.useMemo(()=>({onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const d=(s==null?void 0:s.current)||o.floating;if(!(!i.current||!d||!a.current)){if(f.current!==null){const m=d.scrollTop-f.current;(i.current.bottom<-.5&&m<-1||i.current.top<-.5&&m>1)&&me.flushSync(()=>c(p=>p+m))}requestAnimationFrame(()=>{f.current=d.scrollTop})}}}),[o.floating,c,i,s]);return u.useMemo(()=>r?{floating:h}:{},[r,h])}let re=u.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});re.displayName="FloatingContext";let ze=u.createContext(null);ze.displayName="PlacementContext";function Mo(e){return u.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Po(){return u.useContext(re).setReference}function Oo(){return u.useContext(re).getReferenceProps}function Ho(){let{getFloatingProps:e,slot:t}=u.useContext(re);return u.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Do(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=u.useContext(ze),n=u.useMemo(()=>e,[JSON.stringify(e,(r,i)=>{var s;return(s=i==null?void 0:i.outerHTML)!=null?s:i})]);ce(()=>{t==null||t(n??null)},[t,n]);let o=u.useContext(re);return u.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let st=4;function ko({children:e,enabled:t=!0}){let[n,o]=u.useState(null),[r,i]=u.useState(0),s=u.useRef(null),[l,c]=u.useState(null);bo(l);let a=t&&n!==null&&l!==null,{to:f="bottom",gap:g=0,offset:h=0,padding:d=0,inner:m}=wo(n,l),[p,v="center"]=f.split(" ");ce(()=>{a&&i(0)},[a]);let{refs:b,floatingStyles:y,context:w}=mo({open:a,placement:p==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${p}`:`${p}-${v}`,strategy:"absolute",transform:!1,middleware:[Ot({mainAxis:p==="selection"?0:g,crossAxis:h}),Jn({padding:d}),p!=="selection"&&Qn({padding:d}),p==="selection"&&m?ho({...m,padding:d,overflowRef:s,offset:r,minItemsVisible:st,referenceOverflowThreshold:d,onFallbackChange(F){var k,M;if(!F)return;let L=w.elements.floating;if(!L)return;let G=parseFloat(getComputedStyle(L).scrollPaddingBottom)||0,S=Math.min(st,L.childElementCount),W=0,$=0;for(let C of(M=(k=w.elements.floating)==null?void 0:k.childNodes)!=null?M:[])if(C instanceof HTMLElement){let H=C.offsetTop,Ye=H+C.clientHeight+G,Re=L.scrollTop,Ke=Re+L.clientHeight;if(H>=Re&&Ye<=Ke)S--;else{$=Math.max(0,Math.min(Ye,Ke)-Math.max(H,Re)),W=C.clientHeight;break}}S>=1&&i(C=>{let H=W*S-$+G;return C>=H?C:H})}}):null,Zn({padding:d,apply({availableWidth:F,availableHeight:k,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${F}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${k}px)`})}})].filter(Boolean),whileElementsMounted:Gn}),[x=p,E=v]=w.placement.split("-");p==="selection"&&(x="selection");let R=u.useMemo(()=>({anchor:[x,E].filter(Boolean).join(" ")}),[x,E]),T=vo(w,{overflowRef:s,onChange:i}),{getReferenceProps:O,getFloatingProps:B}=po([T]),A=pe(F=>{c(F),b.setFloating(F)});return u.createElement(ze.Provider,{value:o},u.createElement(re.Provider,{value:{setFloating:A,setReference:b.setReference,styles:y,getReferenceProps:O,getFloatingProps:B,slot:R}},e))}function bo(e){ce(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function wo(e,t){var n,o,r;let i=Ae((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=Ae((o=e==null?void 0:e.offset)!=null?o:"var(--anchor-offset, 0)",t),l=Ae((r=e==null?void 0:e.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:s,padding:l}}function Ae(e,t,n=void 0){let o=ct(),r=pe((c,a)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!a)return[n,null];let f=lt(c,a);return[f,g=>{let h=kt(c);{let d=h.map(m=>window.getComputedStyle(a).getPropertyValue(m));o.requestAnimationFrame(function m(){o.nextFrame(m);let p=!1;for(let[b,y]of h.entries()){let w=window.getComputedStyle(a).getPropertyValue(y);if(d[b]!==w){d[b]=w,p=!0;break}}if(!p)return;let v=lt(c,a);f!==v&&(g(v),f=v)})}return o.dispose}]}return[n,null]}),i=u.useMemo(()=>r(e,t)[0],[e,t]),[s=i,l]=u.useState();return ce(()=>{let[c,a]=r(e,t);if(l(c),!!a)return a(l)},[e,t]),s}function kt(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let o=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[o,...kt(r)]:[o]}return[]}function lt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),o}function yo({title:e,titleId:t,...n},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const xo=u.forwardRef(yo),Io=xo;export{Co as $,Io as C,Oo as F,ko as M,Do as R,To as a,Ho as b,So as d,Ao as e,Lo as r,Fo as w,Mo as x,Po as y};
