import{r as i,R as f}from"./app-CS5zRdaM.js";import{x as N,u as Ce,f as ke,E as ue,o as Pe,n as ie,a as Le,b as A,P as S,F as T,c as X,s as J,d as Re,I as F,T as ee,t as Ie,e as Me,R as Se,g as Oe,h as xe,m as Ae,l as te,r as He,X as Ne,C as Be,O as ne}from"./use-tab-direction-D2TrH3ei.js";import{K as L,o as $,y as x,n as z,L as I,a as Ye,l as se,u as U,p as je,t as ce,O as re,b as de,i as H,s as Ue}from"./use-server-handoff-complete-DAcjASpI.js";import{f as fe,z as Ve,F as pe}from"./transition-DbWz1XdI.js";let ze=i.createContext(void 0);function _e(){return i.useContext(ze)}let _=i.createContext(null);_.displayName="DescriptionContext";function me(){let e=i.useContext(_);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,me),t}return e}function qe(){let[e,t]=i.useState([]);return[e.length>0?e.join(" "):void 0,i.useMemo(()=>function(n){let r=$(u=>(t(l=>[...l,u]),()=>t(l=>{let a=l.slice(),s=a.indexOf(u);return s!==-1&&a.splice(s,1),a}))),o=i.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return f.createElement(_.Provider,{value:o},n.children)},[t])]}let Ge="p";function Ke(e,t){let n=i.useId(),r=_e(),{id:o=`headlessui-description-${n}`,...u}=e,l=me(),a=x(t);z(()=>l.register(o),[o,l.register]);let s=r||!1,c=i.useMemo(()=>({...l.slot,disabled:s}),[l.slot,s]),d={ref:a,...l.props,id:o};return I()({ourProps:d,theirProps:u,slot:c,defaultTag:Ge,name:l.name||"Description"})}let We=L(Ke),Ze=Object.assign(We,{}),V=new Map,O=new Map;function oe(e){var t;let n=(t=O.get(e))!=null?t:0;return O.set(e,n+1),n!==0?()=>ae(e):(V.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>ae(e))}function ae(e){var t;let n=(t=O.get(e))!=null?t:1;if(n===1?O.delete(e):O.set(e,n-1),n!==1)return;let r=V.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,V.delete(e))}function Qe(e,{allowed:t,disallowed:n}={}){let r=N(e,"inert-others");z(()=>{var o,u;if(!r)return;let l=Ye();for(let s of(o=n==null?void 0:n())!=null?o:[])s&&l.add(oe(s));let a=(u=t==null?void 0:t())!=null?u:[];for(let s of a){if(!s)continue;let c=Ce(s);if(!c)continue;let d=s.parentElement;for(;d&&d!==c.body;){for(let v of d.children)a.some(w=>v.contains(w))||l.add(oe(v));d=d.parentElement}}return l.dispose},[r,t,n])}function q(e,t){let n=i.useRef([]),r=$(e);i.useEffect(()=>{let o=[...n.current];for(let[u,l]of t.entries())if(n.current[u]!==l){let a=r(t,o);return n.current=t,a}},[r,...t])}function Xe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let D=[];Xe(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||D[0]===t.target)return;let n=t.target;n=n.closest(ke),D.unshift(n??t.target),D=D.filter(r=>r!=null&&r.isConnected),D.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Je(e,t=typeof document<"u"?document.defaultView:null,n){let r=N(e,"escape");ue(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===Pe.Escape&&n(o))})}function et(){var e;let[t]=i.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=i.useState((e=t==null?void 0:t.matches)!=null?e:!1);return z(()=>{if(!t)return;function o(u){r(u.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function ge(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let tt="div";var P=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(P||{});function nt(e,t){let n=i.useRef(null),r=x(n,t),{initialFocus:o,initialFocusFallback:u,containers:l,features:a=15,...s}=e;se()||(a=0);let c=ie(n);lt(a,{ownerDocument:c});let d=ut(a,{ownerDocument:c,container:n,initialFocus:o,initialFocusFallback:u});it(a,{ownerDocument:c,container:n,containers:l,previousActiveElement:d});let v=Le(),w=$(m=>{let y=n.current;y&&(g=>g())(()=>{U(v.current,{[A.Forwards]:()=>{S(y,T.First,{skipElements:[m.relatedTarget,u]})},[A.Backwards]:()=>{S(y,T.Last,{skipElements:[m.relatedTarget,u]})}})})}),h=N(!!(a&2),"focus-trap#tab-lock"),E=je(),C=i.useRef(!1),k={ref:r,onKeyDown(m){m.key=="Tab"&&(C.current=!0,E.requestAnimationFrame(()=>{C.current=!1}))},onBlur(m){if(!(a&4))return;let y=ge(l);n.current instanceof HTMLElement&&y.add(n.current);let g=m.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(Ee(y,g)||(C.current?S(n.current,U(v.current,{[A.Forwards]:()=>T.Next,[A.Backwards]:()=>T.Previous})|T.WrapAround,{relativeTo:m.target}):m.target instanceof HTMLElement&&F(m.target)))}},b=I();return f.createElement(f.Fragment,null,h&&f.createElement(X,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:J.Focusable}),b({ourProps:k,theirProps:s,defaultTag:tt,name:"FocusTrap"}),h&&f.createElement(X,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:J.Focusable}))}let rt=L(nt),ot=Object.assign(rt,{features:P});function at(e=!0){let t=i.useRef(D.slice());return q(([n],[r])=>{r===!0&&n===!1&&ce(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=D.slice())},[e,D,t]),$(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function lt(e,{ownerDocument:t}){let n=!!(e&8),r=at(n);q(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&F(r())},[n]),Re(()=>{n&&F(r())})}function ut(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let u=i.useRef(null),l=N(!!(e&1),"focus-trap#initial-focus"),a=fe();return q(()=>{if(e===0)return;if(!l){o!=null&&o.current&&F(o.current);return}let s=n.current;s&&ce(()=>{if(!a.current)return;let c=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){u.current=c;return}}else if(s.contains(c)){u.current=c;return}if(r!=null&&r.current)F(r.current);else{if(e&16){if(S(s,T.First|T.AutoFocus)!==ee.Error)return}else if(S(s,T.First)!==ee.Error)return;if(o!=null&&o.current&&(F(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}u.current=t==null?void 0:t.activeElement})},[o,l,e]),u}function it(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let u=fe(),l=!!(e&4);ue(t==null?void 0:t.defaultView,"focus",a=>{if(!l||!u.current)return;let s=ge(r);n.current instanceof HTMLElement&&s.add(n.current);let c=o.current;if(!c)return;let d=a.target;d&&d instanceof HTMLElement?Ee(s,d)?(o.current=d,F(d)):(a.preventDefault(),a.stopPropagation(),F(c)):F(o.current)},!0)}function Ee(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var st=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(st||{}),ct=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(ct||{});let dt={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},G=i.createContext(null);G.displayName="DialogContext";function B(e){let t=i.useContext(G);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,B),n}return t}function ft(e,t){return U(t.type,dt,e,t)}let le=L(function(e,t){let n=i.useId(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:u,initialFocus:l,role:a="dialog",autoFocus:s=!0,__demoMode:c=!1,unmount:d=!1,...v}=e,w=i.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(w.current||(w.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=de();o===void 0&&h!==null&&(o=(h&H.Open)===H.Open);let E=i.useRef(null),C=x(E,t),k=ie(E),b=o?0:1,[m,y]=i.useReducer(ft,{titleId:null,descriptionId:null,panelRef:i.createRef()}),g=$(()=>u(!1)),K=$(p=>y({type:0,id:p})),R=se()?b===0:!1,[ve,we]=Ie(),he={get current(){var p;return(p=m.panelRef.current)!=null?p:E.current}},Y=Me(),{resolveContainers:j}=Se({mainTreeNode:Y,portals:ve,defaultContainers:[he]}),W=h!==null?(h&H.Closing)===H.Closing:!1;Qe(c||W?!1:R,{allowed:$(()=>{var p,Q;return[(Q=(p=E.current)==null?void 0:p.closest("[data-headlessui-portal]"))!=null?Q:null]}),disallowed:$(()=>{var p;return[(p=Y==null?void 0:Y.closest("body > *:not(#headlessui-portal-root)"))!=null?p:null]})}),Oe(R,j,p=>{p.preventDefault(),g()}),Je(R,k==null?void 0:k.defaultView,p=>{p.preventDefault(),p.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),g()}),xe(c||W?!1:R,k,j),Ae(R,E,g);let[be,$e]=qe(),Fe=i.useMemo(()=>[{dialogState:b,close:g,setTitleId:K,unmount:d},m],[b,m,g,K,d]),Z=i.useMemo(()=>({open:b===0}),[b]),ye={ref:C,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:b===0?!0:void 0,"aria-labelledby":m.titleId,"aria-describedby":be,unmount:d},Te=!et(),M=P.None;R&&!c&&(M|=P.RestoreFocus,M|=P.TabLock,s&&(M|=P.AutoFocus),Te&&(M|=P.InitialFocus));let De=I();return f.createElement(Ue,null,f.createElement(te,{force:!0},f.createElement(He,null,f.createElement(G.Provider,{value:Fe},f.createElement(Ne,{target:E},f.createElement(te,{force:!1},f.createElement($e,{slot:Z},f.createElement(we,null,f.createElement(ot,{initialFocus:l,initialFocusFallback:E,containers:j,features:M},f.createElement(Be,{value:g},De({ourProps:ye,theirProps:v,slot:Z,defaultTag:pt,features:mt,visible:b===0,name:"Dialog"})))))))))))}),pt="div",mt=re.RenderStrategy|re.Static;function gt(e,t){let{transition:n=!1,open:r,...o}=e,u=de(),l=e.hasOwnProperty("open")||u!==null,a=e.hasOwnProperty("onClose");if(!l&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!u&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?f.createElement(ne,null,f.createElement(Ve,{show:r,transition:n,unmount:o.unmount},f.createElement(le,{ref:t,...o}))):f.createElement(ne,null,f.createElement(le,{ref:t,open:r,...o}))}let Et="div";function vt(e,t){let n=i.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...u}=e,[{dialogState:l,unmount:a},s]=B("Dialog.Panel"),c=x(t,s.panelRef),d=i.useMemo(()=>({open:l===0}),[l]),v=$(k=>{k.stopPropagation()}),w={ref:c,id:r,onClick:v},h=o?pe:i.Fragment,E=o?{unmount:a}:{},C=I();return f.createElement(h,{...E},C({ourProps:w,theirProps:u,slot:d,defaultTag:Et,name:"Dialog.Panel"}))}let wt="div";function ht(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:u}]=B("Dialog.Backdrop"),l=i.useMemo(()=>({open:o===0}),[o]),a={ref:t,"aria-hidden":!0},s=n?pe:i.Fragment,c=n?{unmount:u}:{},d=I();return f.createElement(s,{...c},d({ourProps:a,theirProps:r,slot:l,defaultTag:wt,name:"Dialog.Backdrop"}))}let bt="h2";function $t(e,t){let n=i.useId(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:u,setTitleId:l}]=B("Dialog.Title"),a=x(t);i.useEffect(()=>(l(r),()=>l(null)),[r,l]);let s=i.useMemo(()=>({open:u===0}),[u]),c={ref:a,id:r};return I()({ourProps:c,theirProps:o,slot:s,defaultTag:bt,name:"Dialog.Title"})}let Ft=L(gt),yt=L(vt),Lt=L(ht),Tt=L($t),Rt=Object.assign(Ft,{Panel:yt,Title:Tt,Description:Ze});export{Lt as D,Tt as Y,_e as a,Qe as b,yt as j,qe as w,Rt as y};
