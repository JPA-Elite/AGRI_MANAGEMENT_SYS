import{r as n,R as m}from"./app-cD1KjFHT.js";import{M as we,y as Ie,$ as ke,b as xe,w as Ce,e as Fe,x as Re,R as Be,c as Me,d as Te,r as be}from"./ChevronDownIcon-D-RFlHpv.js";import{O as te,K as X,y as Y,T as Oe,e as me,o as g,L as ee,d as Le,u as H,i as q,_ as le,b as Pe,x as Se,R as Ee,n as _e,s as De}from"./use-server-handoff-complete-iiWeVDtf.js";import{n as ie,k as ce,t as Ae,e as Ne,R as Ge,E as Ke,g as je,O as ge,C as Ze,a as ye,c as ae,s as ue,m as He,h as We,P as Z,F as A,r as Ue,A as Ve,i as Je,o as j,u as Qe,b as N,T as se}from"./use-tab-direction-CpPkbAlP.js";function Ye({title:e,titleId:o,...i},p){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":o},i),e?n.createElement("title",{id:o},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const It=n.forwardRef(Ye);function qe({title:e,titleId:o,...i},p){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":o},i),e?n.createElement("title",{id:o},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const kt=n.forwardRef(qe);function Xe({title:e,titleId:o,...i},p){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":o},i),e?n.createElement("title",{id:o},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const xt=n.forwardRef(Xe);var ze=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ze||{}),et=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(et||{});let tt={0:e=>({...e,popoverState:H(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,o){return e.button===o.button?e:{...e,button:o.button}},3(e,o){return e.buttonId===o.buttonId?e:{...e,buttonId:o.buttonId}},4(e,o){return e.panel===o.panel?e:{...e,panel:o.panel}},5(e,o){return e.panelId===o.panelId?e:{...e,panelId:o.panelId}}},de=n.createContext(null);de.displayName="PopoverContext";function ne(e){let o=n.useContext(de);if(o===null){let i=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,ne),i}return o}let re=n.createContext(null);re.displayName="PopoverAPIContext";function pe(e){let o=n.useContext(re);if(o===null){let i=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,pe),i}return o}let fe=n.createContext(null);fe.displayName="PopoverGroupContext";function he(){return n.useContext(fe)}let oe=n.createContext(null);oe.displayName="PopoverPanelContext";function nt(){return n.useContext(oe)}function rt(e,o){return H(o.type,tt,e,o)}let ot="div";function lt(e,o){var i;let{__demoMode:p=!1,...b}=e,$=n.useRef(null),k=Y(o,Oe(u=>{$.current=u})),l=n.useRef([]),v=n.useReducer(rt,{__demoMode:p,popoverState:p?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:n.createRef(),afterPanelSentinel:n.createRef(),afterButtonSentinel:n.createRef()}),[{popoverState:w,button:r,buttonId:P,panel:f,panelId:y,beforePanelSentinel:h,afterPanelSentinel:S,afterButtonSentinel:a},d]=v,E=ie((i=$.current)!=null?i:r),B=n.useMemo(()=>{if(!r||!f)return!1;for(let I of document.querySelectorAll("body > *"))if(Number(I==null?void 0:I.contains(r))^Number(I==null?void 0:I.contains(f)))return!0;let u=ce(),t=u.indexOf(r),c=(t+u.length-1)%u.length,s=(t+1)%u.length,C=u[c],R=u[s];return!f.contains(C)&&!f.contains(R)},[r,f]),M=me(P),T=me(y),W=n.useMemo(()=>({buttonId:M,panelId:T,close:()=>d({type:1})}),[M,T,d]),O=he(),x=O==null?void 0:O.registerPopover,G=g(()=>{var u;return(u=O==null?void 0:O.isFocusWithinPopoverGroup())!=null?u:(E==null?void 0:E.activeElement)&&((r==null?void 0:r.contains(E.activeElement))||(f==null?void 0:f.contains(E.activeElement)))});n.useEffect(()=>x==null?void 0:x(W),[x,W]);let[F,U]=Ae(),K=Ne(r),L=Ge({mainTreeNode:K,portals:F,defaultContainers:[r,f]});Ke(E==null?void 0:E.defaultView,"focus",u=>{var t,c,s,C,R,I;u.target!==window&&u.target instanceof HTMLElement&&w===0&&(G()||r&&f&&(L.contains(u.target)||(c=(t=h.current)==null?void 0:t.contains)!=null&&c.call(t,u.target)||(C=(s=S.current)==null?void 0:s.contains)!=null&&C.call(s,u.target)||(I=(R=a.current)==null?void 0:R.contains)!=null&&I.call(R,u.target)||d({type:1})))},!0),je(w===0,L.resolveContainers,(u,t)=>{d({type:1}),Ve(t,Je.Loose)||(u.preventDefault(),r==null||r.focus())});let _=g(u=>{d({type:1});let t=u?u instanceof HTMLElement?u:"current"in u&&u.current instanceof HTMLElement?u.current:r:r;t==null||t.focus()}),V=n.useMemo(()=>({close:_,isPortalled:B}),[_,B]),J=n.useMemo(()=>({open:w===0,close:_}),[w,_]),Q={ref:k},z=ee();return m.createElement(ge,{node:K},m.createElement(we,null,m.createElement(oe.Provider,{value:null},m.createElement(de.Provider,{value:v},m.createElement(re.Provider,{value:V},m.createElement(Ze,{value:_},m.createElement(Le,{value:H(w,{0:q.Open,1:q.Closed})},m.createElement(U,null,z({ourProps:Q,theirProps:b,slot:J,defaultTag:ot,name:"Popover"})))))))))}let at="button";function ut(e,o){let i=n.useId(),{id:p=`headlessui-popover-button-${i}`,disabled:b=!1,autoFocus:$=!1,...k}=e,[l,v]=ne("Popover.Button"),{isPortalled:w}=pe("Popover.Button"),r=n.useRef(null),P=`headlessui-focus-sentinel-${n.useId()}`,f=he(),y=f==null?void 0:f.closeOthers,h=nt()!==null;n.useEffect(()=>{if(!h)return v({type:3,buttonId:p}),()=>{v({type:3,buttonId:null})}},[h,p,v]);let[S]=n.useState(()=>Symbol()),a=Y(r,o,Ie(),g(t=>{if(!h){if(t)l.buttons.current.push(S);else{let c=l.buttons.current.indexOf(S);c!==-1&&l.buttons.current.splice(c,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),t&&v({type:2,button:t})}})),d=Y(r,o),E=ie(r),B=g(t=>{var c,s,C;if(h){if(l.popoverState===1)return;switch(t.key){case j.Space:case j.Enter:t.preventDefault(),(s=(c=t.target).click)==null||s.call(c),v({type:1}),(C=l.button)==null||C.focus();break}}else switch(t.key){case j.Space:case j.Enter:t.preventDefault(),t.stopPropagation(),l.popoverState===1&&(y==null||y(l.buttonId)),v({type:0});break;case j.Escape:if(l.popoverState!==0)return y==null?void 0:y(l.buttonId);if(!r.current||E!=null&&E.activeElement&&!r.current.contains(E.activeElement))return;t.preventDefault(),t.stopPropagation(),v({type:1});break}}),M=g(t=>{h||t.key===j.Space&&t.preventDefault()}),T=g(t=>{var c,s;be(t.currentTarget)||b||(h?(v({type:1}),(c=l.button)==null||c.focus()):(t.preventDefault(),t.stopPropagation(),l.popoverState===1&&(y==null||y(l.buttonId)),v({type:0}),(s=l.button)==null||s.focus()))}),W=g(t=>{t.preventDefault(),t.stopPropagation()}),{isFocusVisible:O,focusProps:x}=ke({autoFocus:$}),{isHovered:G,hoverProps:F}=xe({isDisabled:b}),{pressed:U,pressProps:K}=Ce({disabled:b}),L=l.popoverState===0,_=n.useMemo(()=>({open:L,active:U||L,disabled:b,hover:G,focus:O,autofocus:$}),[L,G,O,U,b,$]),V=Fe(e,l.button),J=h?le({ref:d,type:V,onKeyDown:B,onClick:T,disabled:b||void 0,autoFocus:$},x,F,K):le({ref:a,id:l.buttonId,type:V,"aria-expanded":l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,disabled:b||void 0,autoFocus:$,onKeyDown:B,onKeyUp:M,onClick:T,onMouseDown:W},x,F,K),Q=ye(),z=g(()=>{let t=l.panel;if(!t)return;function c(){H(Q.current,{[N.Forwards]:()=>Z(t,A.First),[N.Backwards]:()=>Z(t,A.Last)})===se.Error&&Z(ce().filter(s=>s.dataset.headlessuiFocusGuard!=="true"),H(Q.current,{[N.Forwards]:A.Next,[N.Backwards]:A.Previous}),{relativeTo:l.button})}c()}),u=ee();return m.createElement(m.Fragment,null,u({ourProps:J,theirProps:k,slot:_,defaultTag:at,name:"Popover.Button"}),L&&!h&&w&&m.createElement(ae,{id:P,ref:l.afterButtonSentinel,features:ue.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:z}))}let st="div",it=te.RenderStrategy|te.Static;function $e(e,o){let i=n.useId(),{id:p=`headlessui-popover-backdrop-${i}`,transition:b=!1,...$}=e,[{popoverState:k},l]=ne("Popover.Backdrop"),[v,w]=n.useState(null),r=Y(o,w),P=Pe(),[f,y]=Se(b,v,P!==null?(P&q.Open)===q.Open:k===0),h=g(d=>{if(be(d.currentTarget))return d.preventDefault();l({type:1})}),S=n.useMemo(()=>({open:k===0}),[k]),a={ref:r,id:p,"aria-hidden":!0,onClick:h,...Ee(y)};return ee()({ourProps:a,theirProps:$,slot:S,defaultTag:st,features:it,visible:f,name:"Popover.Backdrop"})}let ct="div",dt=te.RenderStrategy|te.Static;function pt(e,o){let i=n.useId(),{id:p=`headlessui-popover-panel-${i}`,focus:b=!1,anchor:$,portal:k=!1,modal:l=!1,transition:v=!1,...w}=e,[r,P]=ne("Popover.Panel"),{close:f,isPortalled:y}=pe("Popover.Panel"),h=`headlessui-focus-sentinel-before-${i}`,S=`headlessui-focus-sentinel-after-${i}`,a=n.useRef(null),d=Re($),[E,B]=Be(d),M=Me();d&&(k=!0);let[T,W]=n.useState(null),O=Y(a,o,d?E:null,g(t=>P({type:4,panel:t})),W),x=ie(a);_e(()=>(P({type:5,panelId:p}),()=>{P({type:5,panelId:null})}),[p,P]);let G=Pe(),[F,U]=Se(v,T,G!==null?(G&q.Open)===q.Open:r.popoverState===0);He(F,r.button,()=>{P({type:1})});let K=r.__demoMode?!1:l&&F;We(K,x);let L=g(t=>{var c;switch(t.key){case j.Escape:if(r.popoverState!==0||!a.current||x!=null&&x.activeElement&&!a.current.contains(x.activeElement))return;t.preventDefault(),t.stopPropagation(),P({type:1}),(c=r.button)==null||c.focus();break}});n.useEffect(()=>{var t;e.static||r.popoverState===1&&((t=e.unmount)==null||t)&&P({type:4,panel:null})},[r.popoverState,e.unmount,e.static,P]),n.useEffect(()=>{if(r.__demoMode||!b||r.popoverState!==0||!a.current)return;let t=x==null?void 0:x.activeElement;a.current.contains(t)||Z(a.current,A.First)},[r.__demoMode,b,a.current,r.popoverState]);let _=n.useMemo(()=>({open:r.popoverState===0,close:f}),[r.popoverState,f]),V=le(d?M():{},{ref:O,id:p,onKeyDown:L,onBlur:b&&r.popoverState===0?t=>{var c,s,C,R,I;let D=t.relatedTarget;D&&a.current&&((c=a.current)!=null&&c.contains(D)||(P({type:1}),((C=(s=r.beforePanelSentinel.current)==null?void 0:s.contains)!=null&&C.call(s,D)||(I=(R=r.afterPanelSentinel.current)==null?void 0:R.contains)!=null&&I.call(R,D))&&D.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...w.style,...B,"--button-width":Te(r.button,!0).width},...Ee(U)}),J=ye(),Q=g(()=>{let t=a.current;if(!t)return;function c(){H(J.current,{[N.Forwards]:()=>{var s;Z(t,A.First)===se.Error&&((s=r.afterPanelSentinel.current)==null||s.focus())},[N.Backwards]:()=>{var s;(s=r.button)==null||s.focus({preventScroll:!0})}})}c()}),z=g(()=>{let t=a.current;if(!t)return;function c(){H(J.current,{[N.Forwards]:()=>{if(!r.button)return;let s=ce(),C=s.indexOf(r.button),R=s.slice(0,C+1),I=[...s.slice(C+1),...R];for(let D of I.slice())if(D.dataset.headlessuiFocusGuard==="true"||T!=null&&T.contains(D)){let ve=I.indexOf(D);ve!==-1&&I.splice(ve,1)}Z(I,A.First,{sorted:!1})},[N.Backwards]:()=>{var s;Z(t,A.Previous)===se.Error&&((s=r.button)==null||s.focus())}})}c()}),u=ee();return m.createElement(De,null,m.createElement(oe.Provider,{value:p},m.createElement(re.Provider,{value:{close:f,isPortalled:y}},m.createElement(Ue,{enabled:k?e.static||F:!1},F&&y&&m.createElement(ae,{id:h,ref:r.beforePanelSentinel,features:ue.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:Q}),u({ourProps:V,theirProps:w,slot:_,defaultTag:ct,features:dt,visible:F,name:"Popover.Panel"}),F&&y&&m.createElement(ae,{id:S,ref:r.afterPanelSentinel,features:ue.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:z})))))}let ft="div";function vt(e,o){let i=n.useRef(null),p=Y(i,o),[b,$]=n.useState([]),k=g(S=>{$(a=>{let d=a.indexOf(S);if(d!==-1){let E=a.slice();return E.splice(d,1),E}return a})}),l=g(S=>($(a=>[...a,S]),()=>k(S))),v=g(()=>{var S;let a=Qe(i);if(!a)return!1;let d=a.activeElement;return(S=i.current)!=null&&S.contains(d)?!0:b.some(E=>{var B,M;return((B=a.getElementById(E.buttonId.current))==null?void 0:B.contains(d))||((M=a.getElementById(E.panelId.current))==null?void 0:M.contains(d))})}),w=g(S=>{for(let a of b)a.buttonId.current!==S&&a.close()}),r=n.useMemo(()=>({registerPopover:l,unregisterPopover:k,isFocusWithinPopoverGroup:v,closeOthers:w}),[l,k,v,w]),P=n.useMemo(()=>({}),[]),f=e,y={ref:p},h=ee();return m.createElement(ge,null,m.createElement(fe.Provider,{value:r},h({ourProps:y,theirProps:f,slot:P,defaultTag:ft,name:"Popover.Group"})))}let mt=X(lt),bt=X(ut),Pt=X($e),St=X($e),Et=X(pt),gt=X(vt),Ct=Object.assign(mt,{Button:bt,Backdrop:St,Overlay:Pt,Panel:Et,Group:gt});export{kt as F,Et as R,bt as S,It as a,xt as b,Ct as l};
